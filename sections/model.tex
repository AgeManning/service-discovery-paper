%!TEX root = ../main.tex
%=========================================================

\section{System model}

\etienne{would be useful to name the participants first, before detailing their interactions. Make the link between topics and DApps/smart contracts.}

The topic advertisement subsystem indexes participants by their registered topic identifiers or topic(s), for short. A node providing a certain service, each identified with a topic, is said to 'place an ad' for itself when it registers an ad on another peer to make itself discoverable under that topic. Depending on the needs of the application, a node can advertise multiple topics or no topics at all. Every node participating in the discovery protocol acts as an 'advertisement medium', meaning that it accepts topic ads from other nodes and later returns them to nodes searching for the same topic, keeping an extra topic table (in addition to the Kademlia neighbours table) tracking their neighbors by topic index.

\begin{itemize}
    \item A 'topic' is an identifier for a service provided by a node.
    \item An 'advertiser' is a node providing a service that wants to be discovered.
    \item An 'ad' (i.e., advertisement) is the registration of an advertiser for a topic on another node.
    \item A 'registrar' is a node that is acting as the advertisement medium in a service protocol interaction, i.e., a node that is contacted to store an ad belonging to an advertiser.
    \item A 'searcher' is a node looking for ads for a topic.
\end{itemize}

We assume an Ethereum network nodes all being part of Ethereum DHT. Each node can play any (or both) of the two roles:

    Registrants - nodes that register for a specific topic and want to be discovered by their peers.
    \etienne{is it different than advertisers?}
     The registrants make themselves discoverable by placing advertisements on registrants.
    Registrars - a node that accepts registrations made by registrants and respond to topic queries. When asked for a specific topic, a registrar should respond with registrants that registered for the topic the registrar is aware of.
    Query node - a node that tries to discover registrants under a specific topic.
    \etienne{different than searcher?}


\begin{itemize}
    \item A1 - the network consists of a large amount of nodes (1k-10k)
    \item A2 - each node can register to multiple topics
    \item A3 - the popularity of the topics may vary significantly and follows a zipf distribution \etienne{Why specifically a zipf? Rather say a powerlaw distribution, or an unbalanced distribution. Zipf is a specific one.}
    \item A4 - no single node can be trusted.
    \item A5 - a single malicious participant can produce multiple fake (Sybil) identities, but will be limited in the number of the IP addresses they control.
    \item A6 - malicious nodes may be present in the network. The attackers may send any type and amount of messages to any other node, limited only by their the attacker resources (bandwidth, CPU).
\end{itemize}

\etienne{We should probably have a separate attack model that would detail what the malicious nodes want to achieve and what are our assumptions in preventing them from doing so (e.g. limited number of IP address per attacker).}